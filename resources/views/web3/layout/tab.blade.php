<div class="tf-toolbar-bottom">
    <div class="toolbar-item">
        <a href="index-2.html">
            <div class="toolbar-icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M7.21534 1H3.08153C1.93379 1 1 1.93379 1 3.08153V7.21534C1 8.36309 1.93379 9.29688 3.08153 9.29688H7.21534C8.36309 9.29688 9.29688 8.36309 9.29688 7.21534V3.08153C9.29688 1.93379 8.36309 1 7.21534 1ZM7.89062 7.21534C7.89062 7.58768 7.58768 7.89062 7.21534 7.89062H3.08153C2.70919 7.89062 2.40625 7.58768 2.40625 7.21534V3.08153C2.40625 2.70919 2.70919 2.40625 3.08153 2.40625H7.21534C7.58768 2.40625 7.89062 2.70919 7.89062 3.08153V7.21534Z"
                        fill="black" />
                    <path
                        d="M16.8906 1H12.8125C11.6494 1 10.7031 1.94627 10.7031 3.10938V7.1875C10.7031 8.35061 11.6494 9.29688 12.8125 9.29688H16.8906C18.0537 9.29688 19 8.35061 19 7.1875V3.10938C19 1.94627 18.0537 1 16.8906 1ZM17.5938 7.1875C17.5938 7.5752 17.2783 7.89062 16.8906 7.89062H12.8125C12.4248 7.89062 12.1094 7.5752 12.1094 7.1875V3.10938C12.1094 2.72167 12.4248 2.40625 12.8125 2.40625H16.8906C17.2783 2.40625 17.5938 2.72167 17.5938 3.10938V7.1875Z"
                        fill="black" />
                    <path
                        d="M7.21534 10.7031H3.08153C1.93379 10.7031 1 11.6369 1 12.7847V16.9185C1 18.0662 1.93379 19 3.08153 19H7.21534C8.36309 19 9.29688 18.0662 9.29688 16.9185V12.7847C9.29688 11.6369 8.36309 10.7031 7.21534 10.7031ZM7.89062 16.9185C7.89062 17.2908 7.58768 17.5938 7.21534 17.5938H3.08153C2.70919 17.5938 2.40625 17.2908 2.40625 16.9185V12.7847C2.40625 12.4123 2.70919 12.1094 3.08153 12.1094H7.21534C7.58768 12.1094 7.89062 12.4123 7.89062 12.7847V16.9185Z"
                        fill="black" />
                    <path
                        d="M16.8906 10.7031H12.8125C11.6494 10.7031 10.7031 11.6494 10.7031 12.8125V16.8906C10.7031 18.0537 11.6494 19 12.8125 19H16.8906C18.0537 19 19 18.0537 19 16.8906V12.8125C19 11.6494 18.0537 10.7031 16.8906 10.7031ZM17.5938 16.8906C17.5938 17.2783 17.2783 17.5938 16.8906 17.5938H12.8125C12.4248 17.5938 12.1094 17.2783 12.1094 16.8906V12.8125C12.1094 12.4248 12.4248 12.1094 12.8125 12.1094H16.8906C17.2783 12.1094 17.5938 12.4248 17.5938 12.8125V16.8906Z"
                        fill="black" />
                </svg>
            </div>
            <div class="toolbar-label">Home</div>
        </a>
    </div>
    <div class="toolbar-item">
        <a href="#login" data-bs-toggle="offcanvas">
            <div class="toolbar-icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.6849 6.28659C12.6849 7.00267 12.4004 7.68943 11.8941 8.19578C11.3877 8.70212 10.701 8.98659 9.98488 8.98659C9.2688 8.98659 8.58204 8.70212 8.07569 8.19578C7.56934 7.68943 7.28488 7.00267 7.28488 6.28659C7.28488 5.5705 7.56934 4.88375 8.07569 4.3774C8.58204 3.87105 9.2688 3.58659 9.98488 3.58659C10.701 3.58659 11.3877 3.87105 11.8941 4.3774C12.4004 4.88375 12.6849 5.5705 12.6849 6.28659ZM14.3515 6.28659C14.3515 6.86003 14.2386 7.42785 14.0192 7.95764C13.7997 8.48743 13.4781 8.96881 13.0726 9.37429C12.6671 9.77977 12.1857 10.1014 11.6559 10.3209C11.1261 10.5403 10.5583 10.6533 9.98488 10.6533C9.41144 10.6533 8.84362 10.5403 8.31383 10.3209C7.78404 10.1014 7.30266 9.77977 6.89718 9.37429C6.4917 8.96881 6.17005 8.48743 5.95061 7.95764C5.73116 7.42785 5.61821 6.86003 5.61821 6.28659C5.61821 5.12848 6.07827 4.0178 6.89718 3.19889C7.71609 2.37998 8.82677 1.91992 9.98488 1.91992C11.143 1.91992 12.2537 2.37998 13.0726 3.19889C13.8915 4.0178 14.3515 5.12848 14.3515 6.28659ZM3.83488 17.7049C3.83488 16.2183 4.48488 15.0616 5.55571 14.2524C6.64738 13.4283 8.20571 12.9491 9.98738 12.9491C11.7699 12.9491 13.3282 13.4283 14.419 14.2524C15.4907 15.0608 16.1407 16.2191 16.1407 17.7049C16.1407 17.9259 16.2285 18.1379 16.3848 18.2942C16.5411 18.4505 16.753 18.5383 16.974 18.5383C17.1951 18.5383 17.407 18.4505 17.5633 18.2942C17.7196 18.1379 17.8074 17.9259 17.8074 17.7049C17.8074 15.6633 16.8849 14.0258 15.424 12.9224C13.9824 11.8341 12.0474 11.2824 9.98738 11.2824C7.92738 11.2824 5.99238 11.8341 4.55155 12.9224C3.08988 14.0258 2.16821 15.6641 2.16821 17.7049C2.16821 17.9259 2.25601 18.1379 2.41229 18.2942C2.56857 18.4505 2.78053 18.5383 3.00155 18.5383C3.22256 18.5383 3.43452 18.4505 3.5908 18.2942C3.74708 18.1379 3.83488 17.9259 3.83488 17.7049Z"
                        fill="black" />
                </svg>
            </div>
            <div class="toolbar-label">Account</div>
        </a>
    </div>
    <div class="toolbar-item">
        <a href="shop-default.html">
            <div class="toolbar-icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M1.875 8.479C1.875 8.134 2.155 7.854 2.5 7.854C2.845 7.854 3.125 8.134 3.125 8.479V15.5623C3.125 16.5982 3.96417 17.4373 5 17.4373H15C16.0358 17.4373 16.875 16.5982 16.875 15.5623V8.479C16.875 8.134 17.155 7.854 17.5 7.854C17.845 7.854 18.125 8.134 18.125 8.479V15.5623C18.125 17.2882 16.7258 18.6873 15 18.6873H5C3.27417 18.6873 1.875 17.2882 1.875 15.5623V8.479Z"
                        fill="black" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M10 11.1875C10.8292 11.1875 11.6233 11.5167 12.21 12.1025C12.7958 12.6892 13.125 13.4833 13.125 14.3125V18.0625C13.125 18.4075 12.845 18.6875 12.5 18.6875C12.155 18.6875 11.875 18.4075 11.875 18.0625V14.3125C11.875 13.815 11.6775 13.3383 11.3258 12.9867C10.9742 12.635 10.4975 12.4375 10 12.4375C9.5025 12.4375 9.02583 12.635 8.67417 12.9867C8.3225 13.3383 8.125 13.815 8.125 14.3125V18.0625C8.125 18.4075 7.845 18.6875 7.5 18.6875C7.155 18.6875 6.875 18.4075 6.875 18.0625V14.3125C6.875 13.4833 7.20417 12.6892 7.79 12.1025C8.37667 11.5167 9.17083 11.1875 10 11.1875Z"
                        fill="black" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M7.45325 1.9375V6.625C7.45325 8.385 6.02492 9.8125 4.26492 9.8125C3.27242 9.8125 2.33492 9.355 1.72408 8.57333C1.11325 7.79083 0.897416 6.77167 1.13742 5.80833L1.79992 3.15917C2.07158 2.07333 3.04658 1.3125 4.16492 1.3125H6.82825C7.17325 1.3125 7.45325 1.5925 7.45325 1.9375ZM6.20325 2.5625H4.16492C3.61992 2.5625 3.14492 2.93333 3.01325 3.46167L2.35075 6.11167C2.20325 6.70083 2.33575 7.325 2.70908 7.80417C3.08325 8.2825 3.65742 8.5625 4.26492 8.5625C5.33492 8.5625 6.20325 7.695 6.20325 6.625V2.5625Z"
                        fill="black" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M13.1716 1.3125H15.835C16.9533 1.3125 17.9283 2.07333 18.2 3.15917L18.8625 5.80833C19.1025 6.77167 18.8866 7.79083 18.2758 8.57333C17.665 9.355 16.7275 9.8125 15.735 9.8125C13.975 9.8125 12.5466 8.385 12.5466 6.625V1.9375C12.5466 1.5925 12.8266 1.3125 13.1716 1.3125ZM13.7966 2.5625V6.625C13.7966 7.695 14.665 8.5625 15.735 8.5625C16.3425 8.5625 16.9166 8.2825 17.2908 7.80417C17.6641 7.325 17.7966 6.70083 17.6491 6.11167L16.9866 3.46167C16.855 2.93333 16.38 2.5625 15.835 2.5625H13.7966Z"
                        fill="black" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M6.82153 1.3125H13.1715C13.3374 1.3125 13.4965 1.37833 13.614 1.49583C13.7315 1.61333 13.7965 1.7725 13.7965 1.93833L13.7924 6.47167C13.7907 8.3175 12.294 9.8125 10.449 9.8125H9.5407C7.69403 9.8125 6.19653 8.31583 6.19653 6.46917V1.9375C6.19653 1.5925 6.47653 1.3125 6.82153 1.3125ZM7.44653 2.5625V6.46917C7.44653 7.625 8.38403 8.5625 9.5407 8.5625H10.449C11.6049 8.5625 12.5415 7.62667 12.5424 6.47083L12.5465 2.5625H7.44653Z"
                        fill="black" />
                </svg>
            </div>
            <div class="toolbar-label">Shop</div>
        </a>
    </div>
    <div class="toolbar-item">
        <a href="wish-list.html">
            <div class="toolbar-icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_4013_1872)">
                        <path
                            d="M18.3932 3.30791C16.218 1.13334 12.6795 1.13334 10.5049 3.30791L9.99983 3.8127L9.49504 3.30791C7.32046 1.13304 3.78163 1.13304 1.60706 3.30791C-0.523361 5.43833 -0.537195 8.81527 1.57498 11.1632C3.50142 13.3039 9.18304 17.9289 9.4241 18.1246C9.58775 18.2576 9.78467 18.3224 9.9804 18.3224C9.98688 18.3224 9.99335 18.3224 9.99953 18.3221C10.202 18.3315 10.406 18.2621 10.575 18.1246C10.816 17.9289 16.4982 13.3039 18.4253 11.1629C20.5371 8.81527 20.5233 5.43833 18.3932 3.30791ZM17.1125 9.98174C15.6105 11.6503 11.4818 15.0917 9.99953 16.313C8.51724 15.092 4.38944 11.6509 2.88773 9.98203C1.41427 8.34433 1.40044 6.01199 2.85564 4.55679C3.59885 3.81388 4.57488 3.44213 5.5509 3.44213C6.52693 3.44213 7.50295 3.81358 8.24616 4.55679L9.3564 5.66703C9.48856 5.79919 9.65516 5.87807 9.82999 5.90574C10.1137 5.96667 10.4216 5.88749 10.6424 5.66732L11.7532 4.55679C13.2399 3.07067 15.6582 3.07097 17.144 4.55679C18.5992 6.01199 18.5854 8.34433 17.1125 9.98174Z"
                            fill="black" />
                    </g>
                    <defs>
                        <clipPath id="clip0_4013_1872">
                            <rect width="20" height="20" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                <div class="toolbar-count">0</div>
            </div>
            <div class="toolbar-label">Wishlist</div>
        </a>
    </div>
    <div class="toolbar-item">
        <a href="#shoppingCart" data-bs-toggle="offcanvas">
            <div class="toolbar-icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M4.70906 7.42985L4.0424 16.699H15.8641L15.1974 7.42985H4.70906ZM16.7491 5.76318H3.15823L2.38073 16.5798C2.36436 16.8082 2.39521 17.0374 2.47134 17.2533C2.54748 17.4692 2.66727 17.6671 2.82325 17.8347C2.97923 18.0022 3.16805 18.1358 3.37795 18.2272C3.58785 18.3186 3.81431 18.3657 4.04323 18.3657H15.8641C16.0931 18.3657 16.3196 18.3185 16.5296 18.2271C16.7395 18.1357 16.9284 18.002 17.0844 17.8344C17.2404 17.6667 17.3601 17.4687 17.4362 17.2527C17.5123 17.0368 17.5431 16.8074 17.5266 16.579L16.7491 5.76318Z"
                        fill="black" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M9.38996 3.86652C9.17153 3.86641 8.95523 3.90936 8.75342 3.99292C8.55162 4.07649 8.36826 4.19901 8.21385 4.3535C8.05944 4.50799 7.93701 4.6914 7.85355 4.89325C7.77009 5.0951 7.72724 5.31143 7.72746 5.52985V6.10068C7.72746 6.3217 7.63966 6.53366 7.48338 6.68994C7.3271 6.84622 7.11514 6.93402 6.89412 6.93402C6.67311 6.93402 6.46115 6.84622 6.30487 6.68994C6.14859 6.53366 6.06079 6.3217 6.06079 6.10068V5.52985C6.06068 5.09263 6.14672 4.65967 6.31399 4.2557C6.48125 3.85174 6.72647 3.48469 7.03564 3.17553C7.3448 2.86637 7.71185 2.62115 8.11581 2.45388C8.51977 2.28661 8.95273 2.20057 9.38996 2.20068H10.5275C11.412 2.2009 12.2603 2.55246 12.8857 3.17802C13.5111 3.80359 13.8625 4.65194 13.8625 5.53652V6.10068C13.8625 6.3217 13.7747 6.53366 13.6184 6.68994C13.4621 6.84622 13.2501 6.93402 13.0291 6.93402C12.8081 6.93402 12.5961 6.84622 12.4399 6.68994C12.2836 6.53366 12.1958 6.3217 12.1958 6.10068V5.53652C12.1958 5.09397 12.02 4.66954 11.7072 4.35653C11.3943 4.04353 10.97 3.86757 10.5275 3.86735"
                        fill="black" />
                </svg>
                <div class="toolbar-count">0</div>
            </div>
            <div class="toolbar-label">Cart</div>
        </a>
    </div>
</div>
<!-- /toolbar  -->


<!-- login -->
<div class="offcanvas offcanvas-end popup-style-1 popup-login" id="login">
    <div class="canvas-wrapper">

        @if (session('error'))
            <div class="alert alert-danger fw-bold text-center">
                {{ session('error') }}
            </div>
        @endif

        @if ($errors->any())
            <div class="alert alert-danger fw-bold">
                <ul class="mb-0">
                    @foreach ($errors->all() as $error)
                        <li>{{ $error }}</li>
                    @endforeach
                </ul>
            </div>
        @endif
        <div class="canvas-body popup-inner">
            @if (Auth::check())
                {{-- Người dùng đã đăng nhập --}}
                <div class="canvas-header popup-header">
                    <img src="{{ Auth::user()->avatar ? asset('storage/' . Auth::user()->avatar) : asset('images/anhlogin.jpg') }}"
                        width="50" height="50" class="rounded-circle border" style="object-fit: cover;">
                    <span class="title">{{ Auth::user()->name }}</span>
                    <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <div class="user-info">
    <ul class="list-unstyled">
        <li>
            <a href="{{ route('profile') }}" class="user-info-link">
                <i class="bi bi-person"></i> Thông tin cá nhân
            </a>
        </li>
        <hr>
        <li>
            <a href="{{ route('donhang.index') }}" class="user-info-link">
                <i class="bi bi-cart"></i> Đơn hàng của bạn
            </a>
        </li>
        <hr>
        <li>
            <a href="{{ route('address.index') }}" class="user-info-link">
                <i class="bi bi-geo-alt"></i> Địa chỉ của bạn
            </a>
        </li>
        <hr>
        <li>
        <a href="{{ route('web.logout') }}" class="btn btn-light border-dark text-dark btn-sm w-100 hover-logout">
     ĐĂNG XUẤT
</a>

        </li>
    </ul>
</div>
<style>
    .hover-logout:hover {
    background-color: #000 !important;
    color: #fff !important;
    border-color: #000 !important;
}

    .user-info {
    font-size: 0.9rem; /* Smaller font size */
    padding: 10px;
    background-color: #f8f9fa; /* Light background for better contrast */
    border-radius: 8px; /* Rounded corners */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow */
}

.user-info ul {
    margin: 0;
    padding: 0;
}

.user-info hr {
    margin: 0.5rem 0; /* Reduced margin for tighter spacing */
    border-color: #dee2e6; /* Light divider */
}

.user-info-link {
    display: flex;
    align-items: center;
    color: #333; /* Darker text for readability */
    text-decoration: none;
    padding: 8px 10px;
    transition: color 0.3s ease, background-color 0.3s ease; /* Smooth hover transition */
}

.user-info-link:hover {
    color: #ff6f61; /* Hover color */
    background-color: #e9ecef; /* Light background on hover */
    border-radius: 5px; /* Rounded hover effect */
}

.user-info-link i {
    margin-right: 8px; /* Space between icon and text */
    font-size: 1rem; /* Consistent icon size */
}

.btn-danger {
    font-size: 0.85rem; /* Smaller button text */
    padding: 8px; /* Compact button */
    transition: background-color 0.3s ease; /* Smooth button hover */
}
</style>
            @else
                {{-- Form đăng nhập --}}
                <div class="canvas-header popup-header">
                    <span class="title">Đăng nhập</span>
                    <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <form action="{{ route('login.store.web') }}" method="POST" accept-charset="utf-8"
                    class="form-login">
                    @csrf
                    <div>
                        <fieldset class="email mb_12">
                            <input type="email" name="email" placeholder="Nhập email ">
                        </fieldset>
                        <fieldset class="password">
                            <input type="password" name="password" placeholder="Nhập mật khẩu ">
                        </fieldset>
                    </div>
                    <div class="bot">
                        <a href="#resetPass" data-bs-toggle="offcanvas" class="text text-sm text-main-2">Quên mật
                            khẩu?</a>
                        <div class="button-wrap">
                            <button class="subscribe-button tf-btn animate-btn d-inline-flex bg-dark-2 w-100"
                                type="submit">Đăng nhập</button>
                            <button type="button" data-bs-target="#register" data-bs-toggle="offcanvas"
                                class="tf-btn btn-out-line-dark2 w-100">Đăng ký</button>
                        </div>
                    </div>
                </form>
                <!-- <p style="margin-top: 10px;">
                <a href="{{ url('/forgot-password') }}">Bạn đã quên mật khẩu?</a>
            </p> -->
                <!-- <div class="other-login mt-3">
                    <p class="text-sm text-center text-main-2">Hoặc đăng nhập bằng:</p>
                    <a href="#" class="w-100 text-md mb_8">
                        {{-- Facebook Icon --}}
                        <svg class="icon" width="32" height="32"
                            viewBox="0 0 32 32"><!-- icon content</svg>
                        FACEBOOK
                    </a>
                    
                    <a href="#" class="w-100 text-md bg-dark">
                        {{-- Google Icon --}}
                        <svg class="icon" width="32" height="32"
                            viewBox="0 0 32 32"><!-- icon content</svg>
                        GOOGLE
                    </a>
                </div> -->
            @endif
        </div>
    </div>
</div>
<!-- /login -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<!-- register -->
<div class="offcanvas offcanvas-end popup-style-1 popup-register" id="register">
    <div class="canvas-wrapper">
        <div class="canvas-header popup-header">
            <span class="title">Đăng ký tài khoản</span>
            <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="canvas-body popup-inner">
            <form id="form_register" action="{{ route('web.register.store') }}" enctype="multipart/form-data"
                class="form-login" method="POST">
                @csrf
                <div class="">
                    <fieldset class="text mb_12">
                        <input type="text" class="form-control rounded-3" id="first_name" name="first_name"
                            placeholder="Nhập Họ" required>
                        <span class="text-danger error-message" id="first_name_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="text" class="form-control rounded-3" id="last_name" name="last_name"
                            placeholder="Nhập tên" required>
                        <span class="text-danger error-message" id="last_name_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="email" class="form-control rounded-3" id="email" name="email"
                            placeholder="Nhập email" required>
                        <span class="text-danger error-message" id="email_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="password" class="form-control rounded-3" id="password" name="password"
                            placeholder="Nhập mật khẩu" required>
                        <span class="text-danger error-message" id="password_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="password" class="form-control rounded-3" id="password_confirm"
                            name="password_confirmation" placeholder="Nhập lại mật khẩu" required>
                        <span class="text-danger error-message" id="password_confirmation_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="text" class="form-control rounded-3" id="phone" name="phone"
                            placeholder="Nhập số điện thoại" required>
                        <span class="text-danger error-message" id="phone_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <select class="form-select rounded-3" id="gender" name="gender" required>
                            <option value="">Chọn Giới Tính</option>
                            <option value="Male">Nam</option>
                            <option value="Female">Nữ</option>
                            <option value="Other">Khác</option>
                        </select>
                        <span class="text-danger error-message" id="gender_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="text" class="form-control rounded-3" id="address" name="address"
                            placeholder="Nhập địa chỉ">
                        <span class="text-danger error-message" id="address_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="file" class="form-control rounded-3" id="avatar" name="avatar"
                            accept="image/jpeg,image/png">
                        <span class="text-danger error-message" id="avatar_error"></span>
                    </fieldset>
                    <fieldset class="text mb_12">
                        <input type="checkbox" class="form-check-input" id="agree_terms" name="agree_terms"
                            value="1" required>
                        <label class="form-check-label text-muted" for="agree_terms">Tôi đồng ý với tất cả điều
                            khoản</label>
                        <div><span class="text-danger error-message" id="agree_terms_error"></span></div>
                    </fieldset>
                </div>
                <div class="bot">
                    <div class="button-wrap">
                        <button class="subscribe-button tf-btn animate-btn bg-dark-2 w-100" type="submit">Đăng
                            ký</button>
                        <button type="button" data-bs-target="#login" data-bs-toggle="offcanvas"
                            class="tf-btn btn-out-line-dark2 w-100">Đăng nhập</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- /register -->

<!-- CSS để đảm bảo thông báo lỗi hiển thị rõ ràng -->
<style>
    .error-message {
        display: block;
        font-size: 0.875rem;
        margin-top: 5px;
        color: #dc3545; /* Màu đỏ của Bootstrap text-danger */
    }
    .text.mb_12 {
        position: relative;
        margin-bottom: 12px;
    }
</style>

<!-- JavaScript cho xử lý AJAX và validation -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    $(document).ready(function() {
        // Thiết lập token CSRF cho các yêu cầu AJAX
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });

        // Xử lý submit form đăng ký
        $('#form_register').on('submit', function(e) {
            e.preventDefault();

            // Xóa thông báo lỗi cũ
            $('.error-message').text('');

            // Lấy giá trị các trường
            let firstName = $('#first_name').val().trim();
            let lastName = $('#last_name').val().trim();
            let email = $('#email').val().trim();
            let password = $('#password').val();
            let confirmPassword = $('#password_confirm').val();
            let phone = $('#phone').val().trim();
            let gender = $('#gender').val();
            let avatar = $('#avatar')[0].files[0];
            let agreeTerms = $('#agree_terms').prop('checked');

            // Validation phía client
            if (firstName === '') {
                $('#first_name_error').text('Họ không được để trống!');
                return;
            }
            if (firstName.length > 255) {
                $('#first_name_error').text('Họ không được vượt quá 255 ký tự!');
                return;
            }

            if (lastName === '') {
                $('#last_name_error').text('Tên không được để trống!');
                return;
            }
            if (lastName.length > 255) {
                $('#last_name_error').text('Tên không được vượt quá 255 ký tự!');
                return;
            }

            let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email === '') {
                $('#email_error').text('Email không được để trống!');
                return;
            }
            if (!emailRegex.test(email)) {
                $('#email_error').text('Email không hợp lệ!');
                return;
            }
            if (email.length > 255) {
                $('#email_error').text('Email không được vượt quá 255 ký tự!');
                return;
            }

            if (password === '') {
                $('#password_error').text('Mật khẩu không được để trống!');
                return;
            }
            if (password.length < 6) {
                $('#password_error').text('Mật khẩu phải có ít nhất 6 ký tự!');
                return;
            }
            if (password !== confirmPassword) {
                $('#password_confirmation_error').text('Mật khẩu xác nhận không khớp!');
                return;
            }

            if (phone === '') {
                $('#phone_error').text('Số điện thoại không được để trống!');
                return;
            }
            let phoneRegex = /^0[1-9][0-9]{8}$/;
            if (!phoneRegex.test(phone)) {
                $('#phone_error').text('Số điện thoại phải bắt đầu bằng số 0 và có đúng 10 chữ số!');
                return;
            }

            if (gender === '') {
                $('#gender_error').text('Vui lòng chọn giới tính!');
                return;
            }
            if (!['Male', 'Female', 'Other'].includes(gender)) {
                $('#gender_error').text('Giới tính không hợp lệ!');
                return;
            }

            if (avatar) {
                let allowedExtensions = ['jpg', 'jpeg', 'png'];
                let extension = avatar.name.split('.').pop().toLowerCase();
                if (!allowedExtensions.includes(extension)) {
                    $('#avatar_error').text('Ảnh đại diện chỉ hỗ trợ định dạng jpg, jpeg, png!');
                    return;
                }
                if (avatar.size > 2048 * 1024) { // 2MB
                    $('#avatar_error').text('Ảnh đại diện không được vượt quá 2MB!');
                    return;
                }
            }

            if (!agreeTerms) {
                $('#agree_terms_error').text('Bạn phải đồng ý với các điều khoản!');
                return;
            }

            // Gửi yêu cầu AJAX
            let formData = new FormData(this);
            let submitButton = $(this).find('button[type="submit"]');
            submitButton.prop('disabled', true).text('Đang xử lý...');

            $.ajax({
                type: "POST",
                url: "{{ route('web.register.store') }}",
                data: formData,
                processData: false,
                contentType: false,
                success: function(response) {
                    if (response.success) {
                        Swal.fire({
                            title: "Thành Công",
                            text: response.message,
                            icon: "success",
                            didOpen: () => {
                                const popup = document.querySelector('.swal2-popup');
                                const container = document.querySelector('.swal2-container');
                                if (popup) {
                                    popup.style.zIndex = '9999';
                                }
                                if (container) {
                                    container.style.zIndex = '9999';
                                }
                            }
                        }).then(() => {
                            window.location.href = response.redirect || "/";
                        });
                    } else {
                        // Trường hợp response không có success: true
                        Swal.fire({
                            title: "Lỗi!",
                            text: response.message || "Đăng ký thất bại. Vui lòng thử lại.",
                            icon: "error",
                            didOpen: () => {
                                const popup = document.querySelector('.swal2-popup');
                                const container = document.querySelector('.swal2-container');
                                if (popup) {
                                    popup.style.zIndex = '9999';
                                }
                                if (container) {
                                    container.style.zIndex = '9999';
                                }
                            }
                        });
                    }
                },
                error: function(xhr) {
                    submitButton.prop('disabled', false).text('Đăng ký');
                    console.log('Error:', xhr); // Log lỗi để debug
                    console.log('Status:', xhr.status);
                    console.log('Response:', xhr.responseJSON); // Log response để kiểm tra cấu trúc

                    if (xhr.status === 422 && xhr.responseJSON && xhr.responseJSON.errors) {
                        console.log('Validation Errors:', xhr.responseJSON.errors); // Log các lỗi validation
                        // Hiển thị lỗi theo từng trường
                        $.each(xhr.responseJSON.errors, function(field, messages) {
                            let errorElement = $(`#${field}_error`);
                            console.log(`Field: ${field}, Error Element:`, errorElement); // Log để kiểm tra
                            if (errorElement.length) {
                                errorElement.text(messages[0]); // Hiển thị thông báo lỗi đầu tiên
                            } else {
                                console.log(`Error element for field ${field} not found!`);
                            }
                        });
                    } else {
                        // Hiển thị lỗi chung nếu không phải lỗi validation
                        let errorMessage = xhr.responseJSON && xhr.responseJSON.message
                            ? xhr.responseJSON.message
                            : 'Đã có lỗi xảy ra. Vui lòng thử lại.';
                        Swal.fire({
                            title: "Lỗi!",
                            text: errorMessage,
                            icon: "error",
                            didOpen: () => {
                                const popup = document.querySelector('.swal2-popup');
                                const container = document.querySelector('.swal2-container');
                                if (popup) {
                                    popup.style.zIndex = '9999';
                                }
                                if (container) {
                                    container.style.zIndex = '9999';
                                }
                            }
                        });
                    }
                },
                complete: function() {
                    submitButton.prop('disabled', false).text('Đăng ký');
                }
            });
        });
    });
</script>

<!-- /register -->

<!-- Reset pass -->
<!-- Offcanvas Quên Mật Khẩu -->
<div class="offcanvas offcanvas-end popup-style-1 popup-reset-pass" id="resetPass">
    <div class="canvas-wrapper">
        <div class="canvas-header popup-header">
            <span class="title">Đặt Lại Mật Khẩu</span>
            <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Đóng"></button>
        </div>
        <div class="canvas-body popup-inner">
            <div id="forgotError" class="alert alert-danger d-none"></div>
            <div id="forgotSuccess" class="alert alert-success d-none"></div>
            <form method="POST" action="{{ url('/forgot-password') }}" class="form-login" id="forgotPasswordForm">
                @csrf
                <div>
                    <p class="text text-sm text-main-2">Quên mật khẩu? Đừng lo! Nhập email đã đăng ký của bạn
                        để nhận mã OTP và đặt lại mật khẩu một cách an toàn chỉ trong vài bước.</p>
                    <fieldset class="email mb_12">
                        <input type="email" name="email" class="form-control" placeholder="Nhập Email Của Bạn*"
                            required>
                    </fieldset>
                </div>
                <div class="bot">
                    <div class="button-wrap">
                        <button class="subscribe-button tf-btn animate-btn bg-dark-2 w-100" type="submit"
                            id="forgotSubmit">
                            <span>Gửi Mã OTP</span>
                            <span class="spinner-border spinner-border-sm d-none" role="status"
                                aria-hidden="true"></span>
                        </button>
                        <button type="button" data-bs-dismiss="offcanvas"
                            class="tf-btn btn-out-line-dark2 w-100">Hủy</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Offcanvas Xác Minh OTP -->
<div class="offcanvas offcanvas-end popup-style-1 popup-verify-otp" id="verifyOtp">
    <div class="canvas-wrapper">
        <div class="canvas-header popup-header">
            <span class="title">Xác Minh Mã OTP</span>
            <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Đóng"></button>
        </div>
        <div class="canvas-body popup-inner">
            <div id="otpError" class="alert alert-danger d-none"></div>
            <div id="otpSuccess" class="alert alert-success d-none"></div>
            <form method="POST" action="{{ url('/verify-otp') }}" class="form-login" id="verifyOtpForm">
                @csrf
                <input type="hidden" name="email" id="otpEmail">
                <div>
                    <p class="text text-sm text-main-2">Vui lòng nhập mã OTP được gửi đến email của bạn.</p>
                    <fieldset class="otp mb_12">
                        <input type="text" name="otp" class="form-control" placeholder="Nhập Mã OTP*"
                            maxlength="6" required>
                    </fieldset>
                </div>
                <div class="bot">
                    <div class="button-wrap">
                        <button class="subscribe-button tf-btn animate-btn bg-dark-2 w-100" type="submit"
                            id="otpSubmit">
                            <span>Xác Minh</span>
                            <span class="spinner-border spinner-border-sm d-none" role="status"
                                aria-hidden="true"></span>
                        </button>
                        <button type="button" data-bs-dismiss="offcanvas"
                            class="tf-btn btn-out-line-dark2 w-100">Hủy</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Offcanvas Đặt Lại Mật Khẩu -->
<div class="offcanvas offcanvas-end popup-style-1 popup-reset-password" id="resetPassword">
    <div class="canvas-wrapper">
        <div class="canvas-header popup-header">
            <span class="title">Đặt Lại Mật Khẩu</span>
            <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Đóng"></button>
        </div>
        <div class="canvas-body popup-inner">
            <div id="resetError" class="alert alert-danger d-none"></div>
            <div id="resetSuccess" class="alert alert-success d-none"></div>
            <form method="POST" action="{{ url('/reset-password') }}" class="form-login" id="resetPasswordForm">
                @csrf
                <input type="hidden" name="email" id="resetEmail">
                <div>
                    <p class="text text-sm text-main-2">Nhập mật khẩu mới để hoàn tất việc đặt lại.</p>
                    <fieldset class="password mb_12">
                        <input type="password" name="password" class="form-control" placeholder="Mật Khẩu Mới*"
                            required>
                    </fieldset>
                    <fieldset class="password_confirmation mb_12">
                        <input type="password" name="password_confirmation" class="form-control"
                            placeholder="Nhập Lại Mật Khẩu*" required>
                    </fieldset>
                </div>
                <div class="bot">
                    <div class="button-wrap">
                        <button class="subscribe-button tf-btn animate-btn bg-dark-2 w-100" type="submit"
                            id="resetSubmit">
                            <span>Cập Nhật Mật Khẩu</span>
                            <span class="spinner-border spinner-border-sm d-none" role="status"
                                aria-hidden="true"></span>
                        </button>
                        <button type="button" data-bs-dismiss="offcanvas"
                            class="tf-btn btn-out-line-dark2 w-100">Hủy</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- JavaScript cho xử lý AJAX -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        // Thiết lập token CSRF cho các yêu cầu AJAX
        $.ajaxSetup({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            }
        });

        // Hàm reset form và thông báo
        function resetFormAndAlerts(formId, errorId, successId) {
            $(formId)[0].reset(); // Reset các trường input
            $(errorId).addClass('d-none').text(''); // Ẩn và xóa thông báo lỗi
            $(successId).addClass('d-none').text(''); // Ẩn và xóa thông báo thành công
        }

        // Reset trạng thái khi offcanvas được hiển thị
        $('#resetPass').on('shown.bs.offcanvas', function() {
            resetFormAndAlerts('#forgotPasswordForm', '#forgotError', '#forgotSuccess');
            $('#forgotSubmit').prop('disabled', false).find('.spinner-border').addClass('d-none')
                .siblings(
                    'span').text('Gửi Mã OTP');
        });

        $('#verifyOtp').on('shown.bs.offcanvas', function() {
            resetFormAndAlerts('#verifyOtpForm', '#otpError', '#otpSuccess');
            $('#otpSubmit').prop('disabled', false).find('.spinner-border').addClass('d-none').siblings(
                'span').text('Xác Minh');
        });

        $('#resetPassword').on('shown.bs.offcanvas', function() {
            resetFormAndAlerts('#resetPasswordForm', '#resetError', '#resetSuccess');
            $('#resetSubmit').prop('disabled', false).find('.spinner-border').addClass('d-none')
                .siblings(
                    'span').text('Cập Nhật Mật Khẩu');
        });

        // Reset thông báo đăng nhập khi mở offcanvas đăng nhập
        $('#login').on('shown.bs.offcanvas', function() {
            $('#loginSuccess').addClass('d-none').text('');
        });

        // Xử lý gửi form Quên Mật Khẩu
        $('#forgotPasswordForm').on('submit', function(e) {
            e.preventDefault();
            let form = $(this);
            let button = $('#forgotSubmit');
            let spinner = button.find('.spinner-border');
            let buttonText = button.find('span').first();

            // Hiển thị trạng thái đang tải
            button.prop('disabled', true);
            spinner.removeClass('d-none');
            buttonText.text('Đang gửi...');
            $('#forgotError, #forgotSuccess').addClass('d-none');

            $.ajax({
                url: form.attr('action'),
                method: 'POST',
                data: form.serialize(),
                success: function(response) {
                    if (response.success) {
                        $('#forgotSuccess').text(response.message).removeClass('d-none');
                        setTimeout(() => {
                            $('#resetPass').offcanvas('hide');
                            $('#otpEmail').val(form.find('input[name="email"]')
                                .val());
                            $('#verifyOtp').offcanvas('show');
                        }, 1000);
                    }
                },
                error: function(xhr) {
                    let errorMsg = xhr.responseJSON && xhr.responseJSON.message ?
                        xhr.responseJSON.message :
                        'Đã có lỗi xảy ra. Vui lòng thử lại.';
                    $('#forgotError').text(errorMsg).removeClass('d-none');
                },
                complete: function() {
                    // Đặt lại trạng thái nút
                    button.prop('disabled', false);
                    spinner.addClass('d-none');
                    buttonText.text('Gửi Mã OTP');
                }
            });
        });

        // Xử lý gửi form Xác Minh OTP
        $('#verifyOtpForm').on('submit', function(e) {
            e.preventDefault();
            let form = $(this);
            let button = $('#otpSubmit');
            let spinner = button.find('.spinner-border');
            let buttonText = button.find('span').first();

            // Hiển thị trạng thái đang tải
            button.prop('disabled', true);
            spinner.removeClass('d-none');
            buttonText.text('Đang xác minh...');
            $('#otpError, #otpSuccess').addClass('d-none');

            $.ajax({
                url: form.attr('action'),
                method: 'POST',
                data: form.serialize(),
                success: function(response) {
                    if (response.success) {
                        $('#otpSuccess').text(response.message).removeClass('d-none');
                        setTimeout(() => {
                            $('#verifyOtp').offcanvas('hide');
                            $('#resetEmail').val(form.find('input[name="email"]')
                                .val());
                            $('#resetPassword').offcanvas('show');
                        }, 1000);
                    }
                },
                error: function(xhr) {
                    let errorMsg = xhr.responseJSON && xhr.responseJSON.message ?
                        xhr.responseJSON.message :
                        'Mã OTP không hợp lệ. Vui lòng thử lại.';
                    $('#otpError').text(errorMsg).removeClass('d-none');
                },
                complete: function() {
                    // Đặt lại trạng thái nút
                    button.prop('disabled', false);
                    spinner.addClass('d-none');
                    buttonText.text('Xác Minh');
                }
            });
        });

        // Xử lý gửi form Đặt Lại Mật Khẩu
        $('#resetPasswordForm').on('submit', function(e) {
            e.preventDefault();
            let form = $(this);
            let button = $('#resetSubmit');
            let spinner = button.find('.spinner-border');
            let buttonText = button.find('span').first();

            // Hiển thị trạng thái đang tải
            button.prop('disabled', true);
            spinner.removeClass('d-none');
            buttonText.text('Đang cập nhật...');
            $('#resetError, #resetSuccess').addClass('d-none');

            $.ajax({
                url: form.attr('action'),
                method: 'POST',
                data: form.serialize(),
                success: function(response) {
                    if (response.success) {
                        $('#resetSuccess').text(response.message).removeClass('d-none');
                        setTimeout(() => {
                            $('#resetPassword').offcanvas('hide');
                            // Hiển thị offcanvas đăng nhập
                            $('#login').offcanvas('show');
                            // Điền trước email vào form đăng nhập
                            $('#login').find('input[name="email"]').val(form.find(
                                'input[name="email"]').val());
                            // Hiển thị thông báo thành công trong offcanvas đăng nhập
                            $('#loginSuccess').text(
                                'Mật khẩu đã được đặt lại thành công. Vui lòng đăng nhập.'
                            ).removeClass('d-none');
                            // Reset form đặt lại mật khẩu
                            resetFormAndAlerts('#resetPasswordForm', '#resetError',
                                '#resetSuccess');
                        }, 2000);
                    }
                },
                error: function(xhr) {
                    let errorMsg = xhr.responseJSON && xhr.responseJSON.message ?
                        xhr.responseJSON.message :
                        'Đã có lỗi xảy ra. Vui lòng thử lại.';
                    $('#resetError').text(errorMsg).removeClass('d-none');
                },
                complete: function() {
                    // Đặt lại trạng thái nút
                    button.prop('disabled', false);
                    spinner.addClass('d-none');
                    buttonText.text('Cập Nhật Mật Khẩu');
                }
            });
        });
    });
</script>

<!-- search -->
<div class="offcanvas offcanvas-top offcanvas-search" id="search">
    <div class="offcanvas-content">
        <div class="header">
            <button class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="looking-for-wrap">
                        <div class="heading">Bạn đang tìm kiếm gì?</div>
                        <form class="form-search" action="{{ route('product.search') }}" method="GET"
                        action="/search">
                            <fieldset class="text">
                                <input type="text" placeholder="Nhập tên sản phẩm hoặc thông tin muốn tìm kiếm..." class="" name="searchInput"
                                    tabindex="0" value="" aria-required="true" required="">
                            </fieldset>
                            <button class="" type="submit">
                                <i class="icon icon-search"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /search -->

<!-- /shoppingCart -->

<!-- modal quickView -->

<!-- /modal quickView -->

<!-- compare  -->

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

{{-- <script>
    $(document).ready(function() {
        $('#form_register').submit(function(e) {
            e.preventDefault();

            let firstName = $('#first_name').val().trim();
            let lastName = $('#last_name').val().trim();
            // let name = $('#name').val().trim();
            let email = $('#email').val().trim();
            let password = $('#password').val();
            let confirmPassword = $('#password_confirm').val();
            let phone = $('#phone').val().trim();
            let address = $('#address').val().trim();
            let gender = $('#gender').val();
            let agreeTerms = $('#agree_terms').prop('checked');

            if (firstName === '') {
                Swal.fire("Lỗi", "Họ và không được để trống!", "error");
                return;
            }

            if (lastName === '') {
                Swal.fire("Lỗi", "Tên không được để trống!", "error");
                return;
            }

            let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                Swal.fire("Lỗi", "Email không hợp lệ!", "error");
                return;
            }

            if (password.length < 6) {
                Swal.fire("Lỗi", "Mật khẩu phải có ít nhất 6 ký tự!", "error");
                return;
            }

            if (password !== confirmPassword) {
                Swal.fire("Lỗi", "Mật khẩu không trùng khớp!", "error");
                return;
            }

            let phoneRegex = /^(0[1-9][0-9]{8,9})$/;
            if (phone !== '' && !phoneRegex.test(phone)) {
                Swal.fire("Lỗi", "Số điện thoại không hợp lệ!", "error");
                return;
            }

            if (gender === '') {
                Swal.fire("Lỗi", "Vui lòng chọn giới tính!", "error");
                return;
            }

            if (!agreeTerms) {
                Swal.fire("Lỗi", "Bạn phải đồng ý với các điều khoản!", "error");
                return;
            }

            let formData = new FormData(this);
            formData.append('status', 1);
            formData.append('is_admin', 0);

            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                }
            });

            let registerUrl = $('meta[name="register-url"]').attr('content');
            console.log("Register URL:", registerUrl); // Ghi log URL để gỡ lỗi

            // if (!registerUrl) {
            //     Swal.fire("Lỗi", "Không tìm thấy URL đăng ký! Vui lòng kiểm tra cấu hình.", "error");
            //     return;
            // }

            $.ajax({
                type: "POST",
                url: "{{ route('web.register.store') }}",
                data: formData,
                processData: false,
                contentType: false,
                success: function(response) {
                    console.log("Success:", response);
                    Swal.fire({
                        title: "Thành Công",
                        text: response.message || "Đăng ký thành công!",
                        icon: "success",
                        showConfirmButton: true,
                        didOpen: () => {
                            const popup = document.querySelector(
                                '.swal2-popup');
                            if (popup) {
                                popup.style.zIndex =
                                    '9999'; // Đảm bảo luôn ở trên cùng
                            }
                            const container = document.querySelector(
                                '.swal2-container');
                            if (container) {
                                container.style.zIndex = '9999';
                            }
                        }
                    }).then(() => {
                        // Chuyển hướng đến URL được trả về từ server
                        window.location.href = response.redirect || "/";
                    });
                },
                error: function(xhr) {
                    console.log("Error:", xhr); // Ghi log lỗi
                    console.log("Status:", xhr.status); // Ghi log mã trạng thái
                    console.log("Response:", xhr.responseText); // Ghi log phản hồi lỗi
                    if (xhr.status === 400 && xhr.responseJSON?.errors) {
                        let errorMessages = "";
                        $.each(xhr.responseJSON.errors, function(field, messages) {
                            messages.forEach(message => {
                                errorMessages += `<p>⚠️ ${message}</p>`;
                            });
                        });

                        Swal.fire({
                            title: "Lỗi!",
                            html: "Số điện thoại không hợp lệ!",
                            icon: "error",
                            didOpen: () => {
                                const popup = document.querySelector(
                                    '.swal2-popup');
                                const container = document.querySelector(
                                    '.swal2-container');
                                if (popup) {
                                    popup.style.zIndex =
                                    '2147483647'; // giá trị cao nhất an toàn
                                    popup.style.position = 'relative';
                                }
                                if (container) {
                                    container.style.zIndex = '2147483647';
                                    container.style.position =
                                    'fixed';
                                }
                            }
                        });

                    } else {
                        Swal.fire({
                            title: "Lỗi!",
                            html: "Số điện thoại không hợp lệ!",
                            icon: "error",
                            didOpen: () => {
                                const popup = document.querySelector(
                                    '.swal2-popup');
                                const container = document.querySelector(
                                    '.swal2-container');
                                if (popup) {
                                    popup.style.zIndex =
                                    '2147483647'; // giá trị cao nhất an toàn
                                    popup.style.position = 'relative';
                                }
                                if (container) {
                                    container.style.zIndex = '2147483647';
                                    container.style.position =
                                    'fixed'; 
                                }
                            }
                        });

                    }
                }
            });
        });
    });
</script> --}}
